# Introdu√ß√£o ao PostgreSQL com Python

Ol√°, jovem desenvolvedor(a)! üöÄ Se voc√™ sempre quis mergulhar no mundo dos bancos de dados, est√° no lugar certo. Neste guia, vou te apresentar ao PostgreSQL e mostrar como interagir com ele usando Python. Vamos l√°?

## O que √© PostgreSQL?

PostgreSQL, carinhosamente chamado de Postgres, √© um sistema de gerenciamento de banco de dados relacional (RDBMS) gratuito e de c√≥digo aberto. √â conhecido por sua robustez, extensibilidade e conformidade com padr√µes. Em palavras simples: √© onde voc√™ pode armazenar, organizar e recuperar seus dados de forma eficiente!

## Por que usar PostgreSQL?

1. **Gratuito e de c√≥digo aberto:** Voc√™ n√£o precisa pagar nada para us√°-lo.
2. **Extens√≠vel:** Voc√™ pode criar suas pr√≥prias fun√ß√µes, tipos de dados e mais.
3. **Conformidade com padr√µes:** Adere aos padr√µes SQL, garantindo que voc√™ aprenda SQL da maneira "certa".

## Como instalar o PostgreSQL?

1. **Windows:** [Baixe o instalador oficial](https://www.postgresql.org/download/windows/)
2. **Mac:** Use o Homebrew: `brew install postgresql`
3. **Linux:** Depende da sua distribui√ß√£o, mas geralmente `sudo apt-get install postgresql` para sistemas baseados em Debian.

Ap√≥s a instala√ß√£o, voc√™ pode iniciar o Postgres com o comando `pg_ctl start`.

## Preparando o ambiente Python

Para interagir com o Postgres usando Python, precisamos de uma biblioteca chamada `psycopg2`. Instale-a com:

```bash
pip install psycopg2
```

## O c√≥digo: `create_table.py`

### Pr√©-requisitos:

- Python instalado
- Biblioteca `psycopg2` instalada
- PostgreSQL instalado e em execu√ß√£o
- Um usu√°rio do PostgreSQL com permiss√£o para criar bancos de dados

### Diagrama ERD das Tabelas:

```mermaid
erDiagram
    PROJECT ||--o{ TASK : contains
    
    PROJECT {
        id INTEGER
        name TEXT
        begin_date TEXT
        end_date TEXT
    }
    
    TASK {
        id INTEGER
        name TEXT
        priority INTEGER
        status_id INTEGER
        project_id INTEGER
        begin_date TEXT
        end_date TEXT
    }
```

### 1. Importando as bibliotecas necess√°rias:
```python
import psycopg2
from psycopg2 import sql
```
Neste trecho, estamos importando a biblioteca `psycopg2`, que √© um adaptador PostgreSQL para Python. Tamb√©m estamos importando um m√≥dulo espec√≠fico, `sql`, que nos ajuda a construir comandos SQL de forma segura.

### 2. Configura√ß√£o de Conex√£o:
```python
DB_NAME = "tutorial_db"
USER = "postgres"
PASSWORD = ""
HOST = "localhost"
PORT = "5432"
```
Aqui, definimos algumas constantes que ser√£o usadas para se conectar ao banco de dados PostgreSQL. Estas s√£o informa√ß√µes b√°sicas necess√°rias para estabelecer a conex√£o.

### 3. Fun√ß√£o para conectar ao servidor Postgres:
```python
def conectar_servidor():
    return psycopg2.connect(
        dbname="postgres",
        user=USER,
        password=PASSWORD,
        host=HOST,
        port=PORT
    )
```
Esta fun√ß√£o estabelece uma conex√£o com o servidor PostgreSQL. Estamos nos conectando especificamente ao banco de dados padr√£o "postgres", que sempre existe em qualquer instala√ß√£o PostgreSQL.

### 4. Fun√ß√£o para conectar ao nosso banco de dados:
```python
def conectar_db():
    return psycopg2.connect(
        dbname=DB_NAME,
        user=USER,
        password=PASSWORD,
        host=HOST,
        port=PORT
    )
```
Esta fun√ß√£o √© semelhante √† anterior, mas aqui estamos nos conectando ao nosso banco de dados espec√≠fico, definido pela constante `DB_NAME`.

### 5. Fun√ß√£o para criar um novo banco de dados:
```python
def criar_db():
    conn = conectar_servidor()
    conn.autocommit = True
    cursor = conn.cursor()
    cursor.execute(sql.SQL("CREATE DATABASE {}").format(sql.Identifier(DB_NAME)))
    cursor.close()
    conn.close()
```
Nesta fun√ß√£o, primeiro conectamos ao servidor PostgreSQL. Em seguida, habilitamos o `autocommit` para executar o comando de cria√ß√£o do banco de dados fora de uma transa√ß√£o (requisito do PostgreSQL). Usamos o `cursor` para executar comandos SQL. O comando espec√≠fico aqui cria um novo banco de dados com o nome definido em `DB_NAME`.

### 6. Fun√ß√£o para criar as tabelas:
```python
def criar_tabelas():
    # SQL para criar as tabelas
    sql_create_projects_table = "...";
    sql_create_tasks_table = "...";
    
    # Conectando e criando as tabelas
    with conectar_db() as conn:
        with conn.cursor() as cursor:
            cursor.execute(sql_create_projects_table)
            cursor.execute(sql_create_tasks_table)
```
Nesta fun√ß√£o, definimos os comandos SQL para criar as tabelas `projects` e `tasks`. Depois, nos conectamos ao nosso banco de dados e executamos os comandos SQL para criar as tabelas.

### 7. Execu√ß√£o do script:
```python
if __name__ == "__main__":
    criar_db()
    criar_tabelas()
```
Esta √© a parte final do script. O c√≥digo sob o `if __name__ == "__main__":` √© executado apenas quando o script √© chamado diretamente (n√£o quando √© importado). Aqui, estamos chamando as fun√ß√µes para criar o banco de dados e depois criar as tabelas.

## üöÄ Atividade para voc√™! 

Agora que voc√™ aprendeu o b√°sico, sua miss√£o √©:

1. **Criar um novo banco de dados** chamado "school_db".
2. **Criar duas novas tabelas**: "students" e "courses".

### Diagrama ERD da Atividade:

```mermaid
erDiagram
    STUDENT ||--o{ COURSE : enrolls
    STUDENT {
        int id
        string name
        date dob
    }
    COURSE {
        int id
        string course_name
        string instructor
    }
```

# PGAdmin: A Ferramenta Gr√°fica para o PostgreSQL

![Logo PGAdmin](https://api.mogenius.com/file/id/9b0934ab-599b-4ab7-8e65-02895f84a98c)

Depois de falar sobre o PostgreSQL, √© imposs√≠vel n√£o mencionar o **pgAdmin**. Ele √© a ferramenta de administra√ß√£o e gest√£o mais popular para o PostgreSQL, e o melhor de tudo: √© gratuita e de c√≥digo aberto!

## O que √© o pgAdmin?

O **pgAdmin** √© uma plataforma de administra√ß√£o e gest√£o para o PostgreSQL. Ela permite que voc√™ interaja com seu banco de dados de forma visual, facilitando tarefas como:

- Criar e modificar tabelas
- Visualizar dados em tabelas
- Executar consultas SQL
- Gerenciar permiss√µes e usu√°rios
- E muito mais!

Tudo isso atrav√©s de uma interface amig√°vel e intuitiva.

## Por que usar o pgAdmin?

1. **Interface Gr√°fica:** Para quem n√£o est√° acostumado com a linha de comando, o pgAdmin oferece uma maneira f√°cil e visual de gerenciar bancos de dados.
2. **Multiplataforma:** Funciona em Windows, Mac e Linux.
3. **Poderoso:** Apesar de ser visual, o pgAdmin √© extremamente poderoso e pode lidar com praticamente qualquer tarefa relacionada ao PostgreSQL.
4. **Desenvolvimento de Consultas:** Possui um editor SQL integrado para voc√™ testar suas consultas.

## Como instalar o pgAdmin?

1. **Windows:** [Baixe o instalador oficial](https://www.pgadmin.org/download/pgadmin-4-windows/)
2. **Mac:** Use o Homebrew: `brew install pgadmin4`
3. **Linux:** Depende da sua distribui√ß√£o, mas geralmente `sudo apt-get install pgadmin4` para sistemas baseados em Debian.

## Primeiros passos com o pgAdmin:

1. **Inicie o pgAdmin** ap√≥s a instala√ß√£o.
2. **Conecte-se ao seu servidor PostgreSQL:** Na primeira vez que voc√™ executar o pgAdmin, ele pedir√° que voc√™ se conecte a um servidor PostgreSQL. Use as credenciais do seu servidor local (geralmente "localhost" com seu nome de usu√°rio e senha).
3. **Navegue pelo painel lateral:** Voc√™ ver√° seus bancos de dados, esquemas, tabelas e outros objetos.
4. **Crie e execute consultas:** Use o editor SQL para criar e testar suas consultas.

Agora, com o **pgAdmin** √† sua disposi√ß√£o, voc√™ tem uma ferramenta poderosa para gerenciar e visualizar seus bancos de dados. Recomendo que brinque um pouco com ele para se familiarizar e descobrir todas as suas funcionalidades incr√≠veis! üåü
